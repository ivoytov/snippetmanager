<!-- chat.html in your templates directory -->

{% extends 'base.html' %}

{% block content %}
<h2>Chat</h2>

<!-- Display conversation -->
{% if conversation %}
<div id="chat-box">
    {% for chat in conversation %}
    <div class="{{ chat.role }}">
        {{ chat.text }}
    </div>
    
    {% endfor %}
</div>
{% endif %}

<form method="post">
    {% csrf_token %}
    {{ form }}
    <button type="submit" name="action" value="chat">Send</button>
    
</form>

<!-- Assuming this is within your chat template -->
<form method="post">
    {% csrf_token %}
    
    
    <!-- Additional button to clear context -->
    <button type="submit" name="action" value="clear_context">Clear Context</button>
</form>


<a href="{% url 'project_detail' project.pk %}">Back to Project Files</a>

{% endblock %}